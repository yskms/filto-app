# 画面ワイヤーフレーム

## ヘッダー・フッター

- タブ構成：**Home / Filters / Settings**
- Homeのみヘッダー＝フィード名
- それ以外の画面は **ヘッダーに画面名表示**

---

## ① Home：記事一覧

```
┌──────────────────────┐
│ ALL⬇️            ⟳  │  ← フィード名 or ALL / 更新
├──────────────────────┤
│┌──┐ 記事タイトルA     │
│└──┘ フィード名/2h     │
├──────────────────────┤
│┌──┐ 記事タイトルB     │
│└──┘ フィード名/1d     │
├──────────────────────┤
│┌──┐ 記事タイトルC     │
│└──┘ フィード名/3d     │
├──────────────────────┤
│ 　                   │
[ Home | Filters | Settings ]
└──────────────────────┘
```

### **ヘッダー仕様**

**表示内容**

- 左：**現在選択中のフィード名**
  - `ALL ⬇️` がデフォルト
- 右：⟳ 更新ボタン

**挙動**

- フィード名タップ →
  - **モーダル** で`ALL + 登録フィード一覧`表示
- 選択すると：
  - Homeの一覧がそのフィードのみになる
  - ヘッダー表示も切替

### **要素**

- 記事セル
  - 小さなサムネ（RSSにあれば / なければプレースホルダ）
  - タイトル（太字）
  - フィード名
  - 日時

### **状態**

- 未読は白文字、既読は灰色文字

### 操作

- 右上 ⟳：手動更新
- タップ → 外部ブラウザ
- （将来）長押し → 既読/スター

### **フッター（タブバー）挙動**

- 下スクロール（記事を読む方向）
  → **タブバーが隠れる**

- 上スクロール（戻る方向）
  → **ふわっと再表示**

---

## ①-1 FeedSelect：ボトムシート型フィード選択モーダル

```
┌──────────────────────┐
│ フィード選択         │
├──────────────────────┤
│ ALL                  │
│ アイコン フィード名  │
│ ▶ アイコン フィードA │ ← 選択中
│ アイコン フィード名  │
│ 　　　　　　　　　　  │
├──────────────────────┤
│ Manage Feeds →        │
└──────────────────────┘
```

### 仕様

- 表示形式：**画面下からスッと上がる**
- 高さ：60〜80% or フィット
- 上部：
  - タイトル：`フィード選択`
  - 右：✕
- リスト：
  - `ALL` を先頭固定
  - 各行：
    - フィードアイコン
    - フィード名
    - 選択中は ✓ or ハイライト
- タップ → 即閉じてHome更新
- Manage Feeds → Feedsへ遷移

### UIイメージ

- 角丸
- 背景ぼかし or 半透明
- スワイプで閉じる
- 軽いバウンスアニメ

---

## ② Feeds：フィード管理

```
┌──────────────────────┐
│ ← Feeds      🗑   ＋ │ ← 戻る / 画面名 / 削除 / 追加
├──────────────────────┤
│ ☰ 📰 フィード名A     │
│      example.com     │
│                      │
│ ☰ 🧪 フィード名B     │
│      techsite.jp     │
│                      │
│ ☰ 🎵 フィード名C     │
│      musicblog.com   │
│                      │
│ 　                   │
[ Home | Filters | Settings ]  ← ボトムタブ表示
└──────────────────────┘
```

### **要素**

- フィード名
- URL（小さく）
- 左の ☰ ハンドル：**ドラッグで並び替え**
- 行タップ：詳細なし（将来拡張可）
- 🗑 タップ → **複数選択 or 選択モード**にして削除
- ＋ → FeedAdd へ
- **← 戻る** → Settings画面に遷移（常にSettings）
- **ボトムタブバー** → Home / Filters / Settings に自由に遷移可能

### **画面配置**
- **タブグループ内**: `app/(tabs)/feeds.tsx`
- **ボトムタブ**: 表示される（Home / Filters / Settings の3タブ）
- **タブバー表示**: なし（`href: null`で非表示）

**注意**: Feeds画面はタブグループ内にあるため、ボトムタブが表示される。ただし、タブバー自体には表示されない（3タブのまま）。

---

## ③ FeedAdd：RSS追加

```
┌──────────────────────┐
│ Add Feed             │
├──────────────────────┤
│ RSS URL              │
│ ┌────────────────┐  │
│ │ https://...     │  │ ← フォーカス時に自動全選択
│ └────────────────┘  │
│                      │
│ [ 📋 ペースト ]     │ ← 明示的ボタン
│                      │
│ Feed Name (optional) │
│ ┌──────────────────┐ │
│ │My Favorite Blog  │ │
│ └──────────────────┘ │
│ 空欄の場合、自動取得 │
│ ┌──────────────────┐ │
│ │   追加する       │ │
│ └──────────────────┘ │
│                      │
└──────────────────────┘
```

### **要素**

- URL入力
- fetch後にタイトル表示
- 追加ボタン
- 成功 → Feedsへ戻る

### ポイント

- 起動時：**入力欄にフォーカス**
- OSの**ペースト候補が即出る**
- 「📋 ペースト」ボタンも用意
- URL入力 → その場で
  - タイトル取得
  - エラー表示

👉 ワンタップで追加できる体験を重視。

---

## ④ Filters：フィルタ一覧

```
┌──────────────────────┐
│ Filters   🔄 🗑   ＋ │ ← 並び替え / 削除 / 追加
├──────────────────────┤
│  FX          　　     │
│  許可: 仮想通貨　　     │
│                      │
│  炎上         　　    │
│                      │
│  ゴシップ      　　    │
│                      │
└──────────────────────┘
```

### **要素**

- 1行目：ブロックキーワード
- 2行目：許可条件あれば表示
- 行タップ → FilterEdit（編集モード）
- 🔄 → Filter Sort（モーダル）
- 🗑 → 複数選択して削除
- ＋ → FilterEdit（新規モード）
- オン/オフは持たない（常時有効）

---

## ④-1 FilterSort：並び替え選択モーダル

```
┌──────────────────────┐
│ 並び替え              │
├──────────────────────┤
│ ▶ 作成日時（新しい順） │ ← 選択中
│   作成日時（古い順）   │
│   更新日時（新しい順） │
│   更新日時（古い順）   │
│   ブロックキーワード（昇順） │
│   ブロックキーワード（降順） │
└──────────────────────┘
```

### 仕様

- 表示形式：**ボトムシート or センターモーダル**
- タイトル：`並び替え`
- リスト：
  - 作成日時（新しい順）（デフォルト）
  - 作成日時（古い順）
  - 更新日時（新しい順）
  - 更新日時（古い順）
  - ブロックキーワード（昇順）
  - ブロックキーワード（降順）
- 選択中は ▶ or ✓ で表示
- タップ → 即閉じて Filters を並び替え
- モーダル外タップ → 閉じる

### UIイメージ

- 角丸
- 選択肢は大きめタップ領域
- 軽いバウンスアニメ
- 現在の並び順が一目でわかる

---

## ⑤ FilterEdit：フィルタ追加・編集

### 新規追加時

```
┌──────────────────────┐
│ Add Filter           │
├──────────────────────┤
│ ブロックキーワード      │
│ [ FX               ] │
│                      │
│ 許可キーワード（任意）  │
│ [ 仮想通貨           ] │
│ [ web3             ] │
│ [ crypto           ] │
│ 1行に1キーワード       │
│                      │
│ 対象：☑タイトル ☑概要 │
│                      │
│ [ 保存 ]             │
└──────────────────────┘
```

### 編集時

```
┌──────────────────────┐
│ Edit Filter          │
├──────────────────────┤
│ ブロックキーワード      │
│ [ FX               ] │
│                      │
│ 許可キーワード（任意）  │
│ [ 仮想通貨           ] │
│ [ web3             ] │
│ [ crypto           ] │
│ 1行に1キーワード       │
│                      │
│ 対象：☑タイトル ☑概要 │
│                      │
│ [ 保存 ]  [ 削除 ]   │ ← 編集時のみ削除ボタン表示
└──────────────────────┘
```

### **要素**

- ブロックキーワード入力（単一行）
- 許可キーワード入力（複数行、改行区切り）
- 対象選択（タイトル/概要のチェックボックス）
- 保存ボタン
- 削除ボタン（編集時のみ）

### **挙動**

- 保存 → Filtersへ
- 削除 → 確認ダイアログ → Filtersへ
- ← 戻る → Filtersへ

### ポイント

- 許可キーワードは改行区切りで複数入力
- ヒント「1行に1キーワード」を表示
- 削除ボタンは赤文字で目立たせる

---

## ⑥ Settings：設定（トップ）

**役割**：設定メニューのハブ

ここから Feeds / 他設定へ

```
┌──────────────────────┐
│ Settings             │
├──────────────────────┤
│ 📚 Feeds 管理        │ →
│                      │
│ ⚙ Preferences        │ →
│                      │
└──────────────────────┘
```

---

## ⑦ Preferences：表示・同期・その他

```
┌──────────────────────┐
│ Preferences          │
├──────────────────────┤
│ 🔄 起動時に更新      │  [ ON ]
│                      │
│ ⏱ 取得頻度           │  手動のみ ▼
│                      │
│ ⏱ 最低更新間隔       │  30分 ▼
│                      │
│ 📶 WiFi時のみ取得    │  [ ON ]
│                      │
│ 👁 既読の表示方法     │  薄く表示 ▼
│                      │
│ 🌟 グローバル許可     │ →
│                      │
│ 🎨 Theme             │  Light / Dark
│                      │
│ 🌐 Language          │  日本語 ▼
│                      │
│ ⭐ Pro                │  Coming soon →
│                      │
│ ℹ About              │ →
└──────────────────────┘
```

### **要素**

- **起動時に更新**：
  アプリ起動時にRSS取得するか

- **取得頻度**：
  - 手動のみ
  - 15分 / 30分 / 1時間 / 3時間 など

- **最低更新間隔**：
  起動連打など時のガード用

- **WiFi時のみ取得**：
  モバイル通信節約

- **既読の表示方法**：
  - 薄く表示
  - 非表示
  - マークのみ

- **グローバル許可**：
  グローバル許可キーワード画面へ遷移

- **Theme**：
  Light / Dark / System

- **Language**：
  日本語 / English

- **Pro**：
  将来の課金導線

- **About**：
  バージョン・ライセンス等

---

## ⑧ グローバル許可キーワード：フィルタより優先して許可

```
┌──────────────────────────┐
│ グローバル許可キーワード   │
├──────────────────────────┤
│ 無料版: 2/3件            │ ← Pro版は「無制限」表示
│                          │
│ すべてのフィルタより優先し │
│ て許可されるキーワード    │
│                          │
│ ┌────────────────────┐  │
│ │ キーワード          │ + │ ← 入力欄 + 追加ボタン
│ └────────────────────┘  │
│                          │
│ 自社名            ✕     │ ← 各キーワード行
│ React            ✕     │
│                          │
│ [ Pro版で無制限にする ]  │ ← 無料版のみ表示
└──────────────────────────┘
```

### **仕様**

- **入力**: 1行入力 + 追加ボタン（＋）
- **一覧**: リスト表示、各行に削除ボタン（✕）
- **制限表示**: 
  - 無料版: 「無料版: 2/3件」
  - Pro版: 「Pro版: 無制限」
- **説明文**: 
  - 「すべてのフィルタより優先して許可されるキーワード」
  - キーワードに一致する記事は、どのフィルタでもブロックされない
- **Pro誘導**: 
  - 無料版で3件到達時に追加ボタン無効化
  - 「Pro版で無制限にする」ボタン表示
  - タップで Pro 案内画面へ遷移

### **使用例の表示**（ヒント）

```
例:
- 自社名やブランド名
- 注目している技術（React, TypeScriptなど）
- 絶対に見逃したくないキーワード
```

### **挙動**

- **追加時**:
  1. Pro版チェック（無料版は3件まで）
  2. キーワード保存
  3. 全記事を再評価（バックグラウンド）
  4. 一覧に反映

- **削除時**:
  1. 確認ダイアログ表示
  2. キーワード削除
  3. 全記事を再評価（バックグラウンド）
  4. 一覧に反映

### ✨ ポイント

- シンプルなUI（1行入力 + リスト）
- 制限が明確（無料版: 3件）
- 効果が分かりやすい説明
- Pro版への自然な誘導