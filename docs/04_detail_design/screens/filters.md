# Filters（フィルタ一覧）

## 概要
登録済みフィルタ条件の一覧表示・編集・削除を行う。

## UI構成
- ヘッダー
  - タイトル：Filters
  - 右：削除モード
- フィルタリスト
  - 名称
  - 条件サマリ
  - 右：編集アイコン
- 右下：＋ボタン

## 操作
- 編集アイコン：FilterAdd/Editへ
- 削除モード：選択削除
- ＋：新規追加

## 使用データ
- filters

## 遷移
- → FilterAdd
- ← Tab

## 削除操作（UI仕様）

### 単体削除
- フィルタ行を左にスワイプすると削除ボタンを表示
- 削除ボタンは赤背景 + 🗑アイコン
- 削除タップ時は確認ダイアログを表示
- OK → 削除実行（現段階ではUIのみ）

### 複数削除
- ヘッダーの 🗑 アイコンで削除モードに入る
- 行タップで複数選択
- 削除モード中はスワイプ操作を無効化

### スワイプ削除時の挙動
- スワイプで削除ボタンを表示できる行は常に1件のみ
- スワイプが開いている状態で以下の操作が行われた場合、既存のスワイプを閉じる
  - 同一行のタップ
  - 別行のタップ（編集アイコン含む）
  - 別行のスワイプ操作
  - Tabs 切り替え・画面遷移時
    - Filters 画面のフォーカスが外れるタイミングで開いている Swipeable をすべて close する
    - スワイプ状態は画面間で持ち越さない
- スワイプが開いている間は編集操作は実行されない

## Swipeable 実装について（注意）

- 現在は react-native-gesture-handler の Swipeable（JS実装）を使用している
- TypeScript 上で deprecated warning が表示されるが、
  動作・保守上の問題はないため当面は許容する
- 将来的に Gesture Handler Reanimated 版 Swipeable へ移行予定
